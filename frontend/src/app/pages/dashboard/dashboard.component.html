<h1>Statistiques</h1>
<mat-grid-list cols="4" rowHeight="2:1">
    <mat-grid-tile>
        <mat-card>
            <mat-card-subtitle>Chiffre d'affaire total</mat-card-subtitle>
            <mat-card-title class="primary" *ngIf="totalTurnover$ | async as totalTurnover">{{ !!totalTurnover ? numberWithSpaces(totalTurnover) : 0 }} k</mat-card-title>
            <mat-card-content>
                <p>généré (ventes effectives)</p>
            </mat-card-content>
        </mat-card>
    </mat-grid-tile>
    <mat-grid-tile>
        <mat-card>
            <mat-card-subtitle>Chiffre d'affaire prévisionel</mat-card-subtitle>
            <mat-card-title class="primary" *ngIf="expectedTurnover$ | async as expectedTurnover">{{ !!expectedTurnover ? numberWithSpaces(expectedTurnover) : 0 }} k</mat-card-title>
            <mat-card-content>
                <p>théorique (si tout vendu)</p>
            </mat-card-content>
        </mat-card>
    </mat-grid-tile>
    <mat-grid-tile>
        <mat-card>
            <mat-card-subtitle>Bénéfice total</mat-card-subtitle>
            <mat-card-title class="primary" *ngIf="totalProfit$ | async as totalProfit">{{ !!totalProfit ? numberWithSpaces(totalProfit) : 0}} k</mat-card-title>
            <mat-card-content>
                <p>généré (ventes effectives)</p>
            </mat-card-content>
        </mat-card>
    </mat-grid-tile>
    <mat-grid-tile>
        <mat-card>
            <mat-card-subtitle>Bénéfice prévisionel</mat-card-subtitle>
            <mat-card-title class="primary" *ngIf="expectedProfit$ | async as expectedProfit">{{ expectedProfit ? numberWithSpaces(expectedProfit) : 0}} k</mat-card-title>
            <mat-card-content>
                <p>théorique (si tout vendu)</p>
            </mat-card-content>
        </mat-card>
    </mat-grid-tile>
</mat-grid-list>
<mat-grid-list cols="2" rowHeight="2:1">
    <mat-grid-tile>
        <mat-card>
            <mat-card-subtitle>Chiffre d'affaire</mat-card-subtitle>
            <mat-card-content>
                <canvas baseChart style="width: 100%; height: 200px; margin: 1rem"
                [type]="'line'"
                [data]="turnoverChartData"
                [options]="lineChartOptions"
                [legend]="lineChartLegend">
                </canvas>
            </mat-card-content>
        </mat-card>
    </mat-grid-tile>
    <mat-grid-tile>
        <mat-card>
            <mat-card-subtitle>Bénéfice</mat-card-subtitle>
            <mat-card-content>
                <canvas baseChart style="width: 100%; height: 200px; margin: 1rem"
                [type]="'line'"
                [data]="profitChartData"
                [options]="lineChartOptions"
                [legend]="lineChartLegend">
                </canvas>
            </mat-card-content>
        </mat-card>
    </mat-grid-tile>
</mat-grid-list>
<mat-grid-list cols="2" rowHeight="2:1">
    <mat-grid-tile>
        <mat-card>
            <mat-card-subtitle>Niveau</mat-card-subtitle>
            <mat-card-content>
                <canvas baseChart style="width: 100%; height: 200px; margin: 1rem"
                [type]="'bar'"
                [data]="levelChartData"
                [options]="lineChartOptions"
                [legend]="lineChartLegend">
                </canvas>
            </mat-card-content>
        </mat-card>
    </mat-grid-tile>
    <mat-grid-tile>
        <mat-card>
            <mat-card-subtitle>Métier</mat-card-subtitle>
            <mat-card-content>
                <canvas baseChart style="width: 300px; max-height: 250px; margin: 1rem"
                [type]="'pie'"
                [data]="professionChartData"
                [options]="pieChartOptions"
                [legend]="lineChartLegend">
                </canvas>
            </mat-card-content>
        </mat-card>
    </mat-grid-tile>
</mat-grid-list>
<mat-grid-list cols="2" rowHeight="2:1">
    <mat-grid-tile>
        <mat-card>
            <mat-card-subtitle>Moyenne Marge / Bénéfice</mat-card-subtitle>
            <mat-card-content>
                <canvas baseChart style="width: 250px; max-height: 250px; margin: 1rem"
                [type]="'polarArea'"
                [data]="marginLevelChartData"
                [options]="polarAreaChartOptions"
                [legend]="lineChartLegend">
                </canvas>
            </mat-card-content>
        </mat-card>
    </mat-grid-tile>
    <mat-grid-tile>
        <mat-card>
            <mat-card-subtitle>Métier / Bénéfice</mat-card-subtitle>
            <mat-card-content>
                <canvas baseChart style="width: 250px; max-height: 250px; margin: 1rem"
                [type]="'polarArea'"
                [data]="profitProfessionChartData"
                [options]="polarAreaChartOptions"
                [legend]="lineChartLegend">
                </canvas>
            </mat-card-content>
        </mat-card>
    </mat-grid-tile>
</mat-grid-list>

